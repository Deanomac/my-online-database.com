<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Improved Meta Description for better search visibility -->
    <meta name="description" content="Comprehensive documentation of the IndexedDB database schema, including tables, columns, records, and data relationships. Learn about our flexible and robust database structure.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Open Graph Meta Tags for social media sharing -->
    <meta property="og:title" content="Database Schema Documentation">
    <meta property="og:description" content="Explore the complete technical documentation of our IndexedDB database structure and relationships.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://my-online-database.com/documentation">
    <meta property="og:image" content="https://my-online-database.com/images/schema-diagram.png">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Database Schema Documentation">
    <meta name="twitter:description" content="Detailed documentation of the IndexedDB database schema, including tables, columns, and data relationships.">
    <meta name="twitter:image" content="https://my-online-database.com/images/schema-diagram.png">
    
    <!-- Structured Data using JSON-LD for better indexing -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "TechArticle",
      "headline": "Database Schema Documentation",
      "description": "Complete technical documentation of the IndexedDB database structure and relationships.",
      "author": {
        "@type": "Organization",
        "name": "My Online Database"
      },
      "publisher": {
        "@type": "Organization",
        "name": "My Online Database",
        "logo": {
          "@type": "ImageObject",
          "url": "https://my-online-database.com/images/logo.png"
        }
      },
      "datePublished": "2024-04-01",
      "url": "https://my-online-database.com/documentation"
    }
    </script>
    
    <title>Database Schema Documentation | My Online Database</title>
    
    <style>
        :root {
            --primary-color: #4a6da7;
            --text-primary: #1f2937;
            --text-secondary: #4b5563;
            --bg-primary: #ffffff;
            --bg-secondary: #f3f4f6;
            --border-color: #e5e7eb;
            --code-bg: #1a1a1a;
            --code-text: #e0e0e0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-secondary);
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .hero {
            background: linear-gradient(135deg, var(--primary-color), #2c5282);
            color: white;
            padding: 3rem 0;
            margin-bottom: 2rem;
        }

        .section {
            background: var(--bg-primary);
            border-radius: 8px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .code-block {
            background: var(--code-bg);
            color: var(--code-text);
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Fira Code', monospace;
            margin: 1rem 0;
        }

        .schema-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .schema-card {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
        }

        .relationship-diagram {
            width: 100%;
            height: 400px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin: 1.5rem 0;
            background: white;
            position: relative;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .table th,
        .table td {
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            text-align: left;
        }

        .table th {
            background: var(--bg-secondary);
        }

        .note {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .example {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        /* SEO Enhancements: Improved Footer Links for better navigation */
        .app-footer {
            background: var(--bg-primary);
            padding: 1rem 0;
            text-align: center;
            border-top: 1px solid var(--border-color);
        }

        .app-footer a {
            margin: 0 1rem;
            color: var(--primary-color);
            text-decoration: none;
        }

        .app-footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="hero">
        <div class="container">
            <h1>Database Schema Documentation</h1>
            <p>Complete technical documentation of the IndexedDB database structure and relationships</p>
        </div>
    </div>

    <div class="container">
        <nav aria-label="Breadcrumb">
            <ul class="breadcrumb">
                <li><a href="/">Home</a></li>
                <li aria-current="page">Documentation</li>
            </ul>
        </nav>

        <section class="section">
            <h2>Overview</h2>
            <p>The database uses IndexedDB with a three-store structure to manage tables, columns, and data records. This design provides flexibility while maintaining data integrity through relationships.</p>
            
            <div class="note">
                <strong>Key Features:</strong>
                <ul>
                    <li>Automatic ID generation for all records</li>
                    <li>Foreign key relationships for data integrity</li>
                    <li>JSON storage for flexible data structures</li>
                    <li>Built-in timestamps for auditing</li>
                </ul>
            </div>
        </section>

        <section class="section">
            <h2>Database Stores</h2>
            <div class="schema-grid">
                <div class="schema-card">
                    <h3>Tables Store</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>id</td>
                                <td>auto</td>
                                <td>Unique identifier</td>
                            </tr>
                            <tr>
                                <td>name</td>
                                <td>string</td>
                                <td>Table name</td>
                            </tr>
                            <tr>
                                <td>created</td>
                                <td>date</td>
                                <td>Creation timestamp</td>
                            </tr>
                            <tr>
                                <td>modified</td>
                                <td>date</td>
                                <td>Last modified timestamp</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="schema-card">
                    <h3>Columns Store</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>id</td>
                                <td>auto</td>
                                <td>Unique identifier</td>
                            </tr>
                            <tr>
                                <td>tableId</td>
                                <td>foreign key</td>
                                <td>References Tables.id</td>
                            </tr>
                            <tr>
                                <td>name</td>
                                <td>string</td>
                                <td>Column name</td>
                            </tr>
                            <tr>
                                <td>type</td>
                                <td>string</td>
                                <td>Data type (text, number, etc.)</td>
                            </tr>
                            <tr>
                                <td>order</td>
                                <td>number</td>
                                <td>Display order</td>
                            </tr>
                            <tr>
                                <td>options</td>
                                <td>json</td>
                                <td>Column-specific settings</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="schema-card">
                    <h3>Records Store</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>id</td>
                                <td>auto</td>
                                <td>Unique identifier</td>
                            </tr>
                            <tr>
                                <td>tableId</td>
                                <td>foreign key</td>
                                <td>References Tables.id</td>
                            </tr>
                            <tr>
                                <td>data</td>
                                <td>json</td>
                                <td>Record data object</td>
                            </tr>
                            <tr>
                                <td>created</td>
                                <td>date</td>
                                <td>Creation timestamp</td>
                            </tr>
                            <tr>
                                <td>modified</td>
                                <td>date</td>
                                <td>Last modified timestamp</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>Data Relationships</h2>
            <p>The database uses a one-to-many relationship structure:</p>
            <ul>
                <li>One table can have many columns (Tables → Columns)</li>
                <li>One table can have many records (Tables → Records)</li>
            </ul>

            <div class="example">
                <h4>Example Data Structure:</h4>
                <div class="code-block">
{
    "Tables": {
        "id": 1,
        "name": "Employees",
        "created": "2024-01-01T12:00:00Z"
    },
    "Columns": [
        {
            "id": 1,
            "tableId": 1,
            "name": "Name",
            "type": "text"
        },
        {
            "id": 2,
            "tableId": 1,
            "name": "Age",
            "type": "number"
        }
    ],
    "Records": [
        {
            "id": 1,
            "tableId": 1,
            "data": {
                "1": "John Doe",
                "2": 30
            }
        }
    ]
}</div>
            </div>
        </section>

        <section class="section">
            <h2>Implementation Details</h2>
            <p>The schema is implemented using IndexedDB object stores:</p>

            <div class="code-block">
// Database initialization
const request = indexedDB.open("DatabaseName", 1);

request.onupgradeneeded = (event) => {
    const db = event.target.result;

    // Tables Store
    const tablesStore = db.createObjectStore("tables", { 
        keyPath: "id", 
        autoIncrement: true 
    });
    tablesStore.createIndex("name", "name", { unique: true });

    // Columns Store
    const columnsStore = db.createObjectStore("columns", {
        keyPath: "id",
        autoIncrement: true
    });
    columnsStore.createIndex("tableId", "tableId");

    // Records Store
    const recordsStore = db.createObjectStore("records", {
        keyPath: "id",
        autoIncrement: true
    });
    recordsStore.createIndex("tableId", "tableId");
};</div>

            <div class="note">
                <strong>Important Notes:</strong>
                <ul>
                    <li>All IDs are auto-incrementing integers</li>
                    <li>Indexes are created for frequent query patterns</li>
                    <li>Foreign keys are maintained at the application level</li>
                    <li>JSON data allows for flexible record structures</li>
                </ul>
            </div>
        </section>

        <section class="section">
            <h2>Usage Examples</h2>
            <div class="example">
                <h4>Creating a New Table:</h4>
                <div class="code-block">
// Create table
const table = {
    name: "Employees",
    created: new Date(),
    modified: new Date()
};

// Add columns
const columns = [
    { name: "Name", type: "text", order: 0 },
    { name: "Age", type: "number", order: 1 },
    { name: "Photo", type: "url", order: 2 }
];

// Add record
const record = {
    data: {
        "name": "John Doe",
        "age": 30,
        "photo": "https://example.com/photo.jpg"
    }
};</div>
            </div>
        </section>
        
        <footer class="app-footer" role="contentinfo">
            <a href="https://my-online-database.com" aria-label="Home">Home</a>
          <a href="/how-2-use.html" aria-label="Instructions">Hints</a>
            <a href="/about.html" aria-label="About Us">About Us</a>
            <a href="/documentation.html" aria-label="Documentation">Documentation</a>
            <a href="/advanced.html" aria-label="Advanced Topics">Advanced Topics</a>
            <a href="/schema-explorer.html" aria-label="Schema Explorer">Schema Explorer</a>
        </footer>
    </div>
</body>
</html>
